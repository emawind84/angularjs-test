<!DOCTYPE html>
<html ng-app="myApp">

<head>
	<title>AngularJS Binding</title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0-beta.5/angular.min.js"></script>
	<script type="text/javascript" src="form-binding-control-state.js" ></script>
	
	<meta charset="utf-8" >
</head>

<body>
	<div ng-controller="ExampleController as ctrl">
		<form name="form" novalidate class="css-form" ng-model-options="{ debounce: { default: 500 } }">
			<fieldset>Name: 
			<input type="text" name="uName" ng-model="ctrl.user.name" ng-model-options="{ updateOn: 'blur' }" required="" /><br />
			<div ng-show="form.$submitted || form.uName.$touched">
				<div ng-show="form.uName.$error.required">Tell us your name.</div>
			</div>
			</fieldset>
			
			<fieldset>E-mail: 
			<input type="email" name="uEmail" ng-model="ctrl.user.email" required="" /><br />
			<div ng-show="form.$submitted || form.uEmail.$touched">
				<div ng-show="form.uEmail.$error.required">Tell us your email.</div>
				<div ng-show="form.uEmail.$error.email">This is not a valid email.</div>
			</div>
			</fieldset>
			
			<fieldset>Gender: 
			<input type="radio" ng-model="ctrl.user.gender" value="male" />male
			<input type="radio" ng-model="ctrl.user.gender" value="female" />female<br />
			</fieldset>
			
			<fieldset>
			<input type="checkbox" ng-model="ctrl.user.agree" name="userAgree" required="">
			
			I agree:
			<input ng-show="ctrl.user.agree" type="text" ng-model="ctrl.user.agreeSign">
			<div ng-show="form.$submitted || form.userAgree.$touched">
				<div ng-show="!ctrl.user.agree || !ctrl.user.agreeSign">Please agree and sign.</div>
			</div>
			</fieldset>
			
			<fieldset>
			<input type="number" name="numberTest" ng-model="ctrl.user.numberTest">
			<div ng-show="form.numberTest.$error.number">This is not a valid number.</div>
			</fieldset>
			
			<fieldset>
			<input type="button" ng-click="ctrl.reset(form)" value="Reset" />
			<input type="submit" ng-click="ctrl.update(ctrl.user)" value="Save" />
			</fieldset>
		</form>
		<pre>user = {{ctrl.user | json}}</pre>
		<pre>master = {{ctrl.master | json}}</pre>
	</div>
	
	<style type="text/css">
		.css-form input.ng-invalid.ng-touched {
			background-color: #FA787E;
		}
		
		.css-form input.ng-valid.ng-touched {
			background-color: #78FA89;
		}
	</style>
</body>

</html>